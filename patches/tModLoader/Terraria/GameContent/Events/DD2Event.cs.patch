--- src/TerrariaNetCore/Terraria/GameContent/Events/DD2Event.cs
+++ src/tModLoader/Terraria/GameContent/Events/DD2Event.cs
@@ -342,7 +_,7 @@
 			Main.npc[num].ai[1] = 2f;
 			Main.npc[num].ai[0] = 2f;
 			Main.npc[num].netUpdate = true;
-			for (int i = 0; i < 200; i++) {
+			for (int i = 0; i < Main.maxNPCs; i++) {
 				if (Main.npc[i] != null && Main.npc[i].active && Main.npc[i].type == 549) {
 					Main.npc[i].ai[0] = 0f;
 					Main.npc[i].ai[1] = 1f;
@@ -467,7 +_,7 @@
 		}
 
 		public static void ClearAllDD2HostilesInGame() {
-			for (int i = 0; i < 200; i++) {
+			for (int i = 0; i < Main.maxNPCs; i++) {
 				if (Main.npc[i].active && NPCID.Sets.BelongsToInvasionOldOnesArmy[Main.npc[i].type]) {
 					Main.npc[i].active = false;
 					if (Main.netMode == 2)
@@ -560,7 +_,7 @@
 			_arenaHitboxingCooldown = 60;
 			Vector2 value = new Vector2(float.MaxValue, float.MaxValue);
 			Vector2 value2 = new Vector2(0f, 0f);
-			for (int i = 0; i < 200; i++) {
+			for (int i = 0; i < Main.maxNPCs; i++) {
 				NPC nPC = Main.npc[i];
 				if (nPC.active && (nPC.type == 549 || nPC.type == 548)) {
 					Vector2 topLeft = nPC.TopLeft;
@@ -592,7 +_,7 @@
 		public static bool ShouldBlockBuilding(Vector2 worldPosition) => ArenaHitbox.Contains(worldPosition.ToPoint());
 
 		public static void DropMedals(int numberOfMedals) {
-			for (int i = 0; i < 200; i++) {
+			for (int i = 0; i < Main.maxNPCs; i++) {
 				if (Main.npc[i].active && Main.npc[i].type == 548)
 					Main.npc[i].DropItemInstanced(Main.npc[i].position, Main.npc[i].Size, 3817, numberOfMedals, interactionRequired: false);
 			}
@@ -703,7 +_,7 @@
 		private static void DropStarterCrystals() {
 			int num = 0;
 			while (true) {
-				if (num < 200) {
+				if (num < Main.maxNPCs) {
 					if (Main.npc[num].active && Main.npc[num].type == 548)
 						break;
 
@@ -817,7 +_,7 @@
 				num3 = (int)((double)num3 * 1.3);
 			}
 
-			int num4 = 200;
+			int num4 = Main.maxNPCs;
 			switch (NPC.waveNumber) {
 				case 1:
 					if (NPC.CountNPCS(552) + NPC.CountNPCS(555) < num)
@@ -860,7 +_,7 @@
 					break;
 			}
 
-			if (Main.netMode == 2 && num4 < 200)
+			if (Main.netMode == 2 && num4 < Main.maxNPCs)
 				NetMessage.SendData(23, -1, -1, null, num4);
 		}
 
@@ -1049,8 +_,8 @@
 				num6 = (int)((double)num * 1.35);
 			}
 
-			int num7 = 200;
-			int num8 = 200;
+			int num7 = Main.maxNPCs;
+			int num8 = Main.maxNPCs;
 			switch (NPC.waveNumber) {
 				case 1:
 					if (Main.rand.Next(20) == 0 && NPC.CountNPCS(562) < num2)
@@ -1166,10 +_,10 @@
 					break;
 			}
 
-			if (Main.netMode == 2 && num7 < 200)
+			if (Main.netMode == 2 && num7 < Main.maxNPCs)
 				NetMessage.SendData(23, -1, -1, null, num7);
 
-			if (Main.netMode == 2 && num8 < 200)
+			if (Main.netMode == 2 && num8 < Main.maxNPCs)
 				NetMessage.SendData(23, -1, -1, null, num8);
 		}
 
@@ -1344,8 +_,8 @@
 				num7 = (int)((double)num7 * 1.3);
 			}
 
-			int num8 = 200;
-			int num9 = 200;
+			int num8 = Main.maxNPCs;
+			int num9 = Main.maxNPCs;
 			switch (NPC.waveNumber) {
 				case 1:
 					if (Main.rand.Next(18) == 0 && NPC.CountNPCS(563) < num2) {
@@ -1472,10 +_,10 @@
 					break;
 			}
 
-			if (Main.netMode == 2 && num8 < 200)
+			if (Main.netMode == 2 && num8 < Main.maxNPCs)
 				NetMessage.SendData(23, -1, -1, null, num8);
 
-			if (Main.netMode == 2 && num9 < 200)
+			if (Main.netMode == 2 && num9 < Main.maxNPCs)
 				NetMessage.SendData(23, -1, -1, null, num9);
 		}
 
